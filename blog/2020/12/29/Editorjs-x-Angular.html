<!DOCTYPE html>
<html lang="en-ca">
  
  <head>
  <meta charset="utf-8">
  <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Integrating Editor.js with Angular | Eddrich Janzzen</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Integrating Editor.js with Angular" />
<meta name="author" content="eddrichjanzzen" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An article that walks through how to integrate Editor.js into an Angular application" />
<meta property="og:description" content="An article that walks through how to integrate Editor.js into an Angular application" />
<link rel="canonical" href="https://eddrichjanzzen.github.io/blog/2020/12/29/Editorjs-x-Angular.html" />
<meta property="og:url" content="https://eddrichjanzzen.github.io/blog/2020/12/29/Editorjs-x-Angular.html" />
<meta property="og:site_name" content="Eddrich Janzzen" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-12-29T00:00:00+00:00" />
<script type="application/ld+json">
{"description":"An article that walks through how to integrate Editor.js into an Angular application","headline":"Integrating Editor.js with Angular","dateModified":"2020-12-29T00:00:00+00:00","datePublished":"2020-12-29T00:00:00+00:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://eddrichjanzzen.github.io/blog/2020/12/29/Editorjs-x-Angular.html"},"url":"https://eddrichjanzzen.github.io/blog/2020/12/29/Editorjs-x-Angular.html","author":{"@type":"Person","name":"eddrichjanzzen"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <link rel="icon" href="/images/favicon.ico">
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Raleway:200,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,700" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:100;400" rel="stylesheet">
  <!-- CSS -->
  <link rel="stylesheet" href="/css/normalize.css">
  <link rel="stylesheet" href="/css/skeleton.css">
  <link rel="stylesheet" href="/css/skeleton-alerts.css">
  <link rel="stylesheet" href="/css/common.css">
  <!-- for syntax highlighting -->
  <link rel="stylesheet" href="/css/tango.css">
  <script src="/js/jquery-3.1.1.min.js"></script> 
  <script src="/js/main.js"></script>  

  <meta name="google-site-verification" content="y76HL_x2Anjbw7oIO9lswptVVKHz5NHCzh8Dz9Rp4FI" />

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-171515307-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-171515307-1');
  </script>

  
</head>


<body>

  <header>
    <nav>
	
	<div class="hamburger">
		<div class="line"></div>
		<div class="line"></div>
		<div class="line"></div>
	</div>
	
	
	<ul class="clearfix nav-top">
	<!-- <ul class="open nav-top"> -->
		<li><a href="/index.html">Home</a></li>
    <li><a href="/posts">Posts</a></li>
		<li><a href="/projects">Projects</a></li>
		<li><a href="https://github.com/eddrichjanzzen" target="_blank">GitHub</a></li>
		<li><a href="/contact.html">Contact</a></li>
	</ul>
</nav>


<!-- https://www.youtube.com/watch?v=6m6iqN1uynE -->

  </header>


  <div class="content-wrapper">
    <h3>Integrating Editor.js with Angular</h3>
<span>Posted on Dec 29, 2020 • eddrichjanzzen
</span>
<br><br>

<div class="blog-wrapper">
	<p>Writing or creating content has always been a crutial part of the web since its beginning. As the web continues to mature, the demand for dynamic, customizable, and flexibile text editors has evolved as well. Gone are the days of <code class="language-plaintext highlighter-rouge">&lt;textarea&gt;</code> where the content being written is static. Most modern text editors now follow the concept of <a href="https://en.wikipedia.org/wiki/WYSIWYG">WYSIWYG</a> (What You See Is What You Get), where the content being edited within a form resembles its actual appreance when printed or displayed on screen. As a matter of fact, the open source community offers many free options that can very well suit these needs. <img src="/assets/images/angular-editorjs/angular-x-editorjs.png" alt="Angular" class="img-blog-right"></p>

<p>In this article, we will be looking into an emerging Block-Styled editor, <a href="https://editorjs.io/">Editor.js</a>. We will then walkthough how this tool might be implemented in an Angular application.</p>

<h4 id="what-is-editorjs">What is Editor.js?</h4>

<p>Editor.js is a Block-Styled editor, that uses <code class="language-plaintext highlighter-rouge">Blocks</code> as structural units. Unlike traditional text editors, Editor.js returns <code class="language-plaintext highlighter-rouge">Clean Data</code>. This means that instead of returning data in raw HTML-mark up, the output produced is a JSON formatted object for each <code class="language-plaintext highlighter-rouge">Block</code>.</p>

<p>Instead of having data returned this way:</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;section</span> <span class="na">name=</span><span class="s">"0ed1"</span> <span class="na">class=</span><span class="s">"section section--body section--first"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"section-divider"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;hr</span> <span class="na">class=</span><span class="s">"section-divider"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;/div&gt;</span>
   <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"section-content"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"section-inner sectionLayout--insetColumn"</span><span class="nt">&gt;</span>
         <span class="nt">&lt;h3</span> <span class="na">name=</span><span class="s">"f8e8"</span> <span class="na">class=</span><span class="s">"graf graf--h3 graf--leading graf--title"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;br&gt;</span>
         <span class="nt">&lt;/h3&gt;</span>
         <span class="nt">&lt;p</span> <span class="na">name=</span><span class="s">"982b"</span> <span class="na">class=</span><span class="s">"graf graf--p graf-after--h3"</span><span class="nt">&gt;</span>
            The example of text that was written in <span class="nt">&lt;strong</span> <span class="na">class=</span><span class="s">"markup--strong markup--p-strong"</span><span class="nt">&gt;</span>one of popula<span class="nt">&lt;/strong&gt;</span>r text editors.
         <span class="nt">&lt;/p&gt;</span>
         <span class="nt">&lt;h3</span> <span class="na">name=</span><span class="s">"c2ad"</span> <span class="na">class=</span><span class="s">"graf graf--h3 graf-after--p"</span><span class="nt">&gt;</span>
            With the header of course
         <span class="nt">&lt;/h3&gt;</span>
         <span class="nt">&lt;p</span> <span class="na">name=</span><span class="s">"83d3"</span> <span class="na">class=</span><span class="s">"graf graf--p graf-after--h3"</span><span class="nt">&gt;</span>
            So what do we have?
         <span class="nt">&lt;/p&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
   <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/section&gt;</span>
<span class="nt">&lt;section</span> <span class="na">name=</span><span class="s">"d1d2"</span> <span class="na">class=</span><span class="s">"section section--body"</span><span class="nt">&gt;</span>
  ...
<span class="nt">&lt;/section&gt;</span>
</code></pre></div></div>

<p>The data is returned this way:</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"time"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1550476186479</span><span class="p">,</span><span class="w">
    </span><span class="nl">"blocks"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"paragraph"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"The example of text that was written in &lt;b&gt;one of popular&lt;/b&gt; text editors."</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"header"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"With the header of course"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"level"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"paragraph"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"data"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"text"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"So what do we have?"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"version"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2.8.1"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Having the data returned as <code class="language-plaintext highlighter-rouge">Clean Data</code> makes it easier to sanitize, validate, process data on the backend.</p>

<p>Another notable feature of Editor.js is extensibility and pluggability. Each <code class="language-plaintext highlighter-rouge">Block</code> in Editor.js is provided by a Plugin. This allows flexiblity on installing only the set of tools that are required for your specific needs. For the purpose of this article, we will be utilizing the following commonly used <code class="language-plaintext highlighter-rouge">Blocks</code>:</p>

<ol>
  <li><a href="https://github.com/editor-js/embed">embed</a></li>
  <li><a href="https://github.com/editor-js/header">header</a></li>
  <li><a href="https://github.com/editor-js/highlight">highlight</a></li>
  <li><a href="https://github.com/editor-js/list">list</a></li>
</ol>

<p>You can also find a list of all available <code class="language-plaintext highlighter-rouge">Blocks</code> <a href="https://github.com/editor-js">here</a>.</p>

<h4 id="integrating-editorjs-with-angular">Integrating Editor.js with Angular</h4>

<p>Before we proceed, this article assumes some basic knowledge of Angular. It also assumes that you have <code class="language-plaintext highlighter-rouge">Angular</code> and <code class="language-plaintext highlighter-rouge">npm</code>, already installed in your machine. For those who don’t know what <code class="language-plaintext highlighter-rouge">Angular</code> or <code class="language-plaintext highlighter-rouge">npm</code> is, you may check it out <a href="https://angular.io/">here</a>, and <a href="https://www.npmjs.com/">here</a>.</p>

<h5 id="step-1-set-up">Step 1: Set up</h5>

<p>Create your angular app</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nv">$ </span>ng new angular-editorjs-sample

</code></pre></div></div>

<p>cd into your angular app</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nv">$ </span><span class="nb">cd </span>angular-editorjs-sample

</code></pre></div></div>

<p>Install Editor.js, including some of the commonly used <code class="language-plaintext highlighter-rouge">Blocks</code>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nv">$ </span>npm i @editorjs/editorjs <span class="nt">--save</span>
<span class="nv">$ </span>npm i @editorjs/header <span class="nt">--save</span>
<span class="nv">$ </span>npm i @editorjs/marker <span class="nt">--save</span>
<span class="nv">$ </span>npm i @editorjs/embed <span class="nt">--save</span>
<span class="nv">$ </span>npm i @editorjs/list <span class="nt">--save</span>

</code></pre></div></div>

<p>Install library <code class="language-plaintext highlighter-rouge">@ngneat/until-destroy</code> to handle component clean ups, and garbage collection</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nv">$ </span>npm i @ngneat/until-destroy <span class="nt">--save</span>

</code></pre></div></div>

<h5 id="step-2-create-your-article-editor-component">Step 2: Create your Article Editor Component</h5>

<p>Create your article-editor component</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nv">$ </span>ng generate component article-editor

</code></pre></div></div>

<p>This should create a folder inside <code class="language-plaintext highlighter-rouge">app</code> called <code class="language-plaintext highlighter-rouge">article-editor</code> with the following files:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
▼ app
    ▼ article-editor
        article-editor.component.html
        article-editor.component.scss
        article-editor.component.spec.ts
        article-editor.component.ts
    ...

</code></pre></div></div>
<h5 id="step-2-define-the-editorjs-configurations">Step 2: Define the Editor.js configurations</h5>

<p><em>Creating external config file:</em> In the <code class="language-plaintext highlighter-rouge">article-editor</code> folder, create the following file: <code class="language-plaintext highlighter-rouge">article-editor.config.ts</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
▼ article-editor
    ...
    article-editor.config.ts

</code></pre></div></div>

<p><em>Adding external config file:</em> In the <code class="language-plaintext highlighter-rouge">article-editor.config.ts</code>, copy the following:</p>
<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">import</span> <span class="nx">Header</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@editorjs/header</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">List</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@editorjs/list</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Embed</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@editorjs/embed</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Marker</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@editorjs/marker</span><span class="dl">'</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">editorjsConfig</span> <span class="o">=</span> <span class="p">{</span>

  <span class="na">holder</span><span class="p">:</span> <span class="dl">'</span><span class="s1">editorjs</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">tools</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">Marker</span> <span class="p">:{</span>
      <span class="na">class</span> <span class="p">:</span> <span class="nx">Marker</span><span class="p">,</span>
      <span class="na">shortcut</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">CMD+SHIFT+M</span><span class="dl">'</span>
    <span class="p">},</span>
    <span class="na">header</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">class</span><span class="p">:</span> <span class="nx">Header</span><span class="p">,</span>
      <span class="na">inlineToolbar</span><span class="p">:</span> <span class="p">[</span>
        <span class="dl">'</span><span class="s1">link</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">bold</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">italic</span><span class="dl">'</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="na">list</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">class</span><span class="p">:</span> <span class="nx">List</span><span class="p">,</span>
      <span class="na">inlineToolbar</span><span class="p">:</span> <span class="p">[</span>
        <span class="dl">'</span><span class="s1">link</span><span class="dl">'</span><span class="p">,</span><span class="dl">'</span><span class="s1">bold</span><span class="dl">'</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="na">embed</span> <span class="p">:</span> <span class="p">{</span>
      <span class="na">class</span> <span class="p">:</span> <span class="nx">Embed</span><span class="p">,</span>
      <span class="na">inlineToolbar</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="na">config</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">services</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">youtube</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="na">coub</span><span class="p">:</span> <span class="kc">true</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
<span class="p">}</span>

</code></pre></div></div>

<h5 id="step-3-define-the-editorjs-object-instance">Step 3: Define the Editor.js Object Instance</h5>

<p><em>Defining component logic:</em> Replace the code in <code class="language-plaintext highlighter-rouge">article-editor.component.ts</code>, with the following code snippet:</p>
<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Component</span><span class="p">,</span> <span class="nx">OnInit</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@angular/core</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">UntilDestroy</span><span class="p">,</span> <span class="nx">untilDestroyed</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@ngneat/until-destroy</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">startWith</span><span class="p">,</span> <span class="nx">debounceTime</span><span class="p">,</span> <span class="nx">skip</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">rxjs/operators</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Observable</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">rxjs</span><span class="dl">'</span><span class="p">;</span>

<span class="k">import</span> <span class="nx">EditorJS</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@editorjs/editorjs</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">editorjsConfig</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./article-editor.config</span><span class="dl">'</span><span class="p">;</span>

<span class="p">@</span><span class="nd">UntilDestroy</span><span class="p">()</span>
<span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="dl">'</span><span class="s1">app-article-editor</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">templateUrl</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./article-editor.component.html</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">styleUrls</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">./article-editor.component.scss</span><span class="dl">'</span><span class="p">]</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">ArticleEditorComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>

  <span class="nl">editorData</span><span class="p">:</span> <span class="nx">any</span><span class="p">;</span>
  <span class="nl">editor</span><span class="p">:</span> <span class="nx">EditorJS</span><span class="p">;</span>
  <span class="nl">editorObserver</span><span class="p">:</span> <span class="nx">MutationObserver</span><span class="p">;</span>

  <span class="kd">constructor</span><span class="p">()</span> <span class="p">{</span> <span class="p">}</span>

  <span class="nx">ngOnInit</span><span class="p">():</span> <span class="k">void</span> <span class="p">{</span>
    
    <span class="k">this</span><span class="p">.</span><span class="nx">editor</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EditorJS</span><span class="p">(</span><span class="nx">editorjsConfig</span><span class="p">)</span>
  
    <span class="k">this</span><span class="p">.</span><span class="nx">detectEditorChanges</span><span class="p">().</span><span class="nx">pipe</span><span class="p">(</span>
      <span class="nx">debounceTime</span><span class="p">(</span><span class="mi">200</span><span class="p">),</span>
      <span class="nx">skip</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
      <span class="nx">untilDestroyed</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
    <span class="p">).</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">data</span><span class="o">=&gt;</span><span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">editor</span><span class="p">.</span><span class="nx">save</span><span class="p">().</span><span class="nx">then</span><span class="p">((</span><span class="nx">outputData</span><span class="p">)</span><span class="o">=&gt;</span><span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">editorData</span> <span class="o">=</span>  <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">outputData</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
      <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="nx">saveEditorData</span><span class="p">()</span> <span class="p">:</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">editor</span><span class="p">.</span><span class="nx">save</span><span class="p">().</span><span class="nx">then</span><span class="p">((</span><span class="nx">outputData</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">editorData</span> <span class="o">=</span>  <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">outputData</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
    <span class="p">})</span>
  <span class="p">}</span>

  <span class="nx">ngOnDestroy</span><span class="p">():</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">editorObserver</span><span class="p">.</span><span class="nx">disconnect</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="nx">detectEditorChanges</span><span class="p">():</span> <span class="nx">Observable</span> <span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span> <span class="p">{</span>

    <span class="k">return</span> <span class="k">new</span> <span class="nx">Observable</span><span class="p">(</span><span class="nx">observer</span> <span class="o">=&gt;</span> <span class="p">{</span>

      <span class="kd">const</span> <span class="nx">editorDom</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">#editorjs</span><span class="dl">'</span><span class="p">);</span>
      <span class="kd">const</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span> <span class="na">attributes</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">childList</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">subtree</span><span class="p">:</span> <span class="kc">true</span> <span class="p">};</span>

      <span class="k">this</span><span class="p">.</span><span class="nx">editorObserver</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MutationObserver</span><span class="p">((</span><span class="nx">mutation</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">observer</span><span class="p">.</span><span class="nx">next</span><span class="p">(</span><span class="nx">mutation</span><span class="p">);</span>
      <span class="p">})</span>

      <span class="k">this</span><span class="p">.</span><span class="nx">editorObserver</span><span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="nx">editorDom</span><span class="p">,</span> <span class="nx">config</span><span class="p">);</span>

    <span class="p">})</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<h5 id="step-4-adding-markup">Step 4: Adding Markup</h5>

<p>Adding html: In the <code class="language-plaintext highlighter-rouge">article-editor.component.html</code>, file copy the following mark up:</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"articleEditor"</span><span class="nt">&gt;</span>

  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"panelOne"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h2&gt;</span>Editor JS<span class="nt">&lt;/h2&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"editorjs"</span><span class="nt">&gt;&lt;/div&gt;</span>

    <span class="nt">&lt;button</span> <span class="na">(click)=</span><span class="s">"saveEditorData()"</span><span class="nt">&gt;</span>Save Article<span class="nt">&lt;/button&gt;</span>
  <span class="nt">&lt;/div&gt;</span>

  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"panelTwo"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h2&gt;</span>Clean Data<span class="nt">&lt;/h2&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"articleDataContainer"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;pre</span> <span class="na">[innerHTML]=</span><span class="s">"editorData"</span><span class="nt">&gt;&lt;/pre&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;/div&gt;</span>

</code></pre></div></div>

<p>Note here that: <code class="language-plaintext highlighter-rouge">&lt;div id="editorjs"&gt;&lt;/div&gt;</code>, is where all the magic happens. This is what renders the Editor itself. Without this <code class="language-plaintext highlighter-rouge">id="editorjs"</code>, the editor will not render.</p>

<p>You will find the reference to <code class="language-plaintext highlighter-rouge">id="editorjs"</code> in the <code class="language-plaintext highlighter-rouge">holder</code> key, in <code class="language-plaintext highlighter-rouge">article-editor.config.ts</code>:</p>
<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="p">...</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">editorjsConfig</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">holder</span><span class="p">:</span> <span class="dl">'</span><span class="s1">editorjs</span><span class="dl">'</span><span class="p">,</span>
<span class="p">...</span>

</code></pre></div></div>

<p>Adding Styles: In the <code class="language-plaintext highlighter-rouge">article-editor.component.scss</code> file, copy the following mark up:</p>
<div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nc">.articleEditor</span> <span class="p">{</span>
  <span class="nl">background</span><span class="p">:</span> <span class="nf">rgb</span><span class="p">(</span><span class="m">233</span><span class="o">,</span> <span class="m">233</span><span class="o">,</span> <span class="m">233</span><span class="p">);</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">3em</span><span class="p">;</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
  <span class="nl">font-family</span><span class="p">:</span> <span class="s1">'Lato'</span><span class="p">;</span>
<span class="p">}</span>

<span class="nn">#editorjs</span> <span class="p">{</span>
  <span class="nl">background</span><span class="p">:</span> <span class="no">white</span><span class="p">;</span>
  <span class="nl">min-height</span><span class="p">:</span> <span class="m">700px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">button</span> <span class="p">{</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="mh">#4CAF50</span><span class="p">;</span> <span class="cm">/* Green */</span>
  <span class="nl">border</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
  <span class="nl">color</span><span class="p">:</span> <span class="no">white</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">15px</span> <span class="m">32px</span><span class="p">;</span>
  <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
  <span class="nl">text-decoration</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">inline-block</span><span class="p">;</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">16px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nd">::ng-deep</span> <span class="nc">.ce-block__content</span><span class="o">,</span>
<span class="nd">::ng-deep</span> <span class="nc">.ce-toolbar__content</span> <span class="p">{</span>
    <span class="nl">max-width</span><span class="p">:</span> <span class="n">unset</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.panelOne</span> <span class="p">{</span>
  <span class="nl">flex</span><span class="p">:</span> <span class="m">0</span> <span class="m">0</span> <span class="m">50%</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.panelTwo</span> <span class="p">{</span>
  <span class="nl">flex</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span> <span class="m">3em</span> <span class="m">0</span> <span class="m">3em</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.articleDataContainer</span> <span class="p">{</span>
  <span class="nl">background</span><span class="p">:</span> <span class="no">white</span><span class="p">;</span>
  <span class="nl">min-height</span><span class="p">:</span> <span class="m">700px</span><span class="p">;</span>
  <span class="nl">overflow-wrap</span><span class="p">:</span> <span class="n">break-word</span><span class="p">;</span>
  <span class="nl">word-wrap</span><span class="p">:</span> <span class="n">break-word</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">pre</span> <span class="p">{</span>
  <span class="nl">white-space</span><span class="p">:</span> <span class="n">pre-wrap</span><span class="p">;</span>
  <span class="nl">word-break</span><span class="p">:</span> <span class="n">keep-all</span>
<span class="p">}</span>

</code></pre></div></div>

<p>Note that we can use <code class="language-plaintext highlighter-rouge">::ng-deep</code> to overwrite Editor.js specific styles, to make the editor span the entire width</p>
<div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nd">::ng-deep</span> <span class="nc">.ce-block__content</span><span class="o">,</span>
<span class="nd">::ng-deep</span> <span class="nc">.ce-toolbar__content</span> <span class="p">{</span>
    <span class="nl">max-width</span><span class="p">:</span> <span class="n">unset</span><span class="p">;</span>
<span class="p">}</span>

</code></pre></div></div>

<h5 id="step-5-adding-article-editor-to-app-component">Step 5: Adding article-editor to app-component</h5>

<p>Replace the contents in the <code class="language-plaintext highlighter-rouge">app.component.html</code> with the following snippet:</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nt">&lt;app-article-editor&gt;&lt;/app-article-editor&gt;</span>

</code></pre></div></div>

<h4 id="code-walkthrough">Code Walkthrough:</h4>
<h5 id="mutation-observer">Mutation Observer</h5>

<p>Angular comes with a built-in detection that can keep track of any changes on <code class="language-plaintext highlighter-rouge">input</code> fields. Please see <a href="https://angular.io/api/forms/FormControl">FormControls</a>, and <a href="https://angular.io/guide/reactive-forms">ReactiveForms</a>. This is feature comes in handy when dealing with <code class="language-plaintext highlighter-rouge">&lt;textarea&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;input&gt;</code>, or <code class="language-plaintext highlighter-rouge">&lt;form&gt;</code> elements. However for this example, we are not able to utilize this feature out of the box.</p>

<p>The way Editor.js works, is, it adds a new <code class="language-plaintext highlighter-rouge">&lt;div&gt;</code> element to the DOM whenever new content data is written. So in order for the application to detect changes, we can instead make use of a <code class="language-plaintext highlighter-rouge">MutationObserver</code> to emit an event every time a new element or <code class="language-plaintext highlighter-rouge">&lt;div&gt;</code> is added to the DOM.  The following code shows how the <code class="language-plaintext highlighter-rouge">MutationObserver</code> is being used:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nx">detectEditorChanges</span><span class="p">():</span> <span class="nx">Observable</span> <span class="o">&lt;</span><span class="nx">any</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nx">Observable</span><span class="p">(</span><span class="nx">observer</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">editorDom</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">#editorjs</span><span class="dl">'</span><span class="p">);</span>
      <span class="kd">const</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span> <span class="na">attributes</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">childList</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">subtree</span><span class="p">:</span> <span class="kc">true</span> <span class="p">};</span>

      <span class="k">this</span><span class="p">.</span><span class="nx">editorObserver</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MutationObserver</span><span class="p">((</span><span class="nx">mutation</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">observer</span><span class="p">.</span><span class="nx">next</span><span class="p">(</span><span class="nx">mutation</span><span class="p">);</span>
      <span class="p">})</span>

      <span class="k">this</span><span class="p">.</span><span class="nx">editorObserver</span><span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="nx">editorDom</span><span class="p">,</span> <span class="nx">config</span><span class="p">);</span>
    <span class="p">})</span>
<span class="p">}</span>

</code></pre></div></div>

<p>In the following code snippet, we wrap the output of the <code class="language-plaintext highlighter-rouge">MutationObserver</code> in an <code class="language-plaintext highlighter-rouge">Observable</code>. This it allows the application to subscribe to an event, every time the user types new content into the editor. Please see the following code:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nx">ngOnInit</span><span class="p">():</span> <span class="k">void</span> <span class="p">{</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">editor</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">EditorJS</span><span class="p">(</span><span class="nx">editorjsConfig</span><span class="p">)</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">detectEditorChanges</span><span class="p">().</span><span class="nx">pipe</span><span class="p">(</span>
        <span class="nx">debounceTime</span><span class="p">(</span><span class="mi">200</span><span class="p">),</span>
        <span class="nx">skip</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span>
        <span class="nx">untilDestroyed</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
    <span class="p">).</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">data</span><span class="o">=&gt;</span><span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">editor</span><span class="p">.</span><span class="nx">save</span><span class="p">().</span><span class="nx">then</span><span class="p">((</span><span class="nx">outputData</span><span class="p">)</span><span class="o">=&gt;</span><span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">editorData</span> <span class="o">=</span>  <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">outputData</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
        <span class="p">});</span>
    <span class="p">});</span>
<span class="p">}</span>

</code></pre></div></div>

<p>When the article-editor component is initialized, we immediately set up a subscription to detect new changes, and emit the clean data output. This way we are able to load data from the editor dynamically as the input from the editor changes</p>

<h4 id="the-final-product">The Final Product</h4>

<p><img src="/assets/images/angular-editorjs/editorjs.gif" alt="Angular" class="img-blog"></p>

<p>There you have it. You have successfully integrated <code class="language-plaintext highlighter-rouge">Editor.js</code> with <code class="language-plaintext highlighter-rouge">Angular</code>. <img class="emoji" title=":clap:" alt=":clap:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f44f.png" height="20" width="20"> <img class="emoji" title=":clap:" alt=":clap:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f44f.png" height="20" width="20"> <img class="emoji" title=":clap:" alt=":clap:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f44f.png" height="20" width="20"></p>

<p>For more details, you may visit the sample project. <a href="https://github.com/eddrichjanzzen/angular-editorjs-sample">https://github.com/eddrichjanzzen/angular-editorjs-sample</a></p>

	
</div>

  <div>
  
  <footer>
  
<footer class="footer">
	<nav>
	
	
	<ul class="clearfix nav-bottom">
	<!-- <ul class="open nav-top"> -->
		<li><a href="/index.html">Home</a></li>
    <li><a href="/posts">Posts</a></li>
		<li><a href="/projects">Projects</a></li>
		<li><a href="https://github.com/eddrichjanzzen" target="_blank">GitHub</a></li>
		<li><a href="/contact.html">Contact</a></li>
	</ul>
</nav>


<!-- https://www.youtube.com/watch?v=6m6iqN1uynE -->

	<div class="mini">
		<img src="/images/me.jpg" alt="">
		<p>Developed by <a href="https://github.com/eddrichjanzzen">Eddrich Janzzen Ang</a> powered by <a href="https://jekyllrb.com/">Jekyll</a></p>	
	</div>
</footer>


  <footer>

</footer></footer>
</div>
</div></body>
<script src="/js/main.js"></script>
</html>